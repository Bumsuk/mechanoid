/*
 * Generated by Robotoworks Mechanoid
 */
package com.robotoworks.recipes.example.content;

import android.annotation.TargetApi;
import android.content.Context;
import android.content.SharedPreferences;
import android.content.SharedPreferences.OnSharedPreferenceChangeListener;
import com.robotoworks.mechanoid.Mechanoid;

public class UserPreferences {
	
	public static final String PREFERENCES_NAME = "UserPreferences";

	public interface Keys {
		String NAME = "NAME";
		String AGE = "AGE";
		String CASH_BALANCE = "CASH_BALANCE";
		String LIKES_RAGU = "LIKES_RAGU";
	}

	private final SharedPreferences mPreferences;

	private static UserPreferences sInstance;

	public static UserPreferences getInstance() {
		if(sInstance == null) {
			sInstance = new UserPreferences(Mechanoid.getApplicationContext());
		}
		
		return sInstance;
	}
	
	private UserPreferences(Context context) {
		mPreferences = context.getSharedPreferences(PREFERENCES_NAME, 0);
	}

	public String getName() {
		return mPreferences.getString(Keys.NAME, "Anonymous");
	}
	public int getAge() {
		return mPreferences.getInt(Keys.AGE, 0);
	}
	public float getCashBalance() {
		return mPreferences.getFloat(Keys.CASH_BALANCE, 0.0f);
	}
	public boolean getLikesRagu() {
		return mPreferences.getBoolean(Keys.LIKES_RAGU, false);
	}

	public SharedPreferences getSharedPreferences() {
		return mPreferences;
	}

	public void registerOnSharedPreferenceChangeListener(OnSharedPreferenceChangeListener listener) {
		mPreferences.registerOnSharedPreferenceChangeListener(listener);
	}

	public void unregisterOnSharedPreferenceChangeListener(OnSharedPreferenceChangeListener listener) {
		mPreferences.unregisterOnSharedPreferenceChangeListener(listener);
	}

	public UserPreferencesEditor edit() {
		return new UserPreferencesEditor(mPreferences.edit());
	}

	public class UserPreferencesEditor {
		private SharedPreferences.Editor mEditor;

		public UserPreferencesEditor(SharedPreferences.Editor editor) {
			mEditor = editor;
		}

		public boolean commit() {
			return mEditor.commit();
		}

		@TargetApi(9)
		public void apply() {
			mEditor.apply();
		}

		public UserPreferencesEditor clear() {
			mEditor.clear();
			return this;
		}
		public UserPreferencesEditor putName(String value) {
			mEditor.putString(Keys.NAME, value);
			return this;
		}
		public UserPreferencesEditor putAge(int value) {
			mEditor.putInt(Keys.AGE, value);
			return this;
		}
		public UserPreferencesEditor putCashBalance(float value) {
			mEditor.putFloat(Keys.CASH_BALANCE, value);
			return this;
		}
		public UserPreferencesEditor putLikesRagu(boolean value) {
			mEditor.putBoolean(Keys.LIKES_RAGU, value);
			return this;
		}
	}
}
